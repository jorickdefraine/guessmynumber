import numpy as np
import torch
import matplotlib.pyplot as plt
from PIL import Image
zero = '{"points":[{"x":135,"y":52},{"x":134,"y":52},{"x":134,"y":52},{"x":132,"y":52},{"x":131,"y":52},{"x":130,"y":52},{"x":128,"y":52},{"x":124,"y":53},{"x":122,"y":53},{"x":121,"y":53},{"x":120,"y":54},{"x":115,"y":57},{"x":110,"y":61},{"x":105,"y":64},{"x":102,"y":65},{"x":100,"y":67},{"x":98,"y":69},{"x":96,"y":72},{"x":93,"y":74},{"x":91,"y":76},{"x":90,"y":79},{"x":88,"y":83},{"x":85,"y":88},{"x":83,"y":92},{"x":81,"y":96},{"x":80,"y":98},{"x":80,"y":101},{"x":79,"y":104},{"x":78,"y":106},{"x":78,"y":108},{"x":78,"y":111},{"x":78,"y":113},{"x":78,"y":116},{"x":78,"y":119},{"x":78,"y":124},{"x":78,"y":126},{"x":78,"y":129},{"x":78,"y":131},{"x":78,"y":134},{"x":77,"y":136},{"x":77,"y":139},{"x":77,"y":140},{"x":76,"y":142},{"x":76,"y":144},{"x":76,"y":146},{"x":75,"y":148},{"x":75,"y":149},{"x":75,"y":153},{"x":75,"y":155},{"x":75,"y":157},{"x":75,"y":159},{"x":75,"y":164},{"x":75,"y":165},{"x":75,"y":169},{"x":75,"y":171},{"x":75,"y":173},{"x":75,"y":174},{"x":75,"y":176},{"x":76,"y":178},{"x":76,"y":180},{"x":77,"y":183},{"x":77,"y":185},{"x":78,"y":186},{"x":79,"y":188},{"x":81,"y":191},{"x":81,"y":193},{"x":82,"y":195},{"x":84,"y":196},{"x":84,"y":197},{"x":87,"y":199},{"x":88,"y":200},{"x":90,"y":202},{"x":93,"y":203},{"x":95,"y":203},{"x":98,"y":204},{"x":102,"y":206},{"x":105,"y":206},{"x":107,"y":207},{"x":108,"y":207},{"x":110,"y":207},{"x":113,"y":208},{"x":116,"y":208},{"x":118,"y":208},{"x":119,"y":208},{"x":120,"y":208},{"x":122,"y":208},{"x":124,"y":208},{"x":128,"y":208},{"x":129,"y":208},{"x":132,"y":208},{"x":135,"y":208},{"x":137,"y":206},{"x":139,"y":206},{"x":140,"y":206},{"x":141,"y":206},{"x":142,"y":205},{"x":144,"y":203},{"x":147,"y":203},{"x":148,"y":202},{"x":149,"y":201},{"x":151,"y":200},{"x":153,"y":198},{"x":154,"y":197},{"x":155,"y":196},{"x":155,"y":194},{"x":157,"y":191},{"x":158,"y":190},{"x":158,"y":188},{"x":159,"y":187},{"x":160,"y":185},{"x":162,"y":181},{"x":163,"y":178},{"x":163,"y":175},{"x":163,"y":173},{"x":163,"y":170},{"x":163,"y":168},{"x":163,"y":165},{"x":164,"y":163},{"x":164,"y":161},{"x":164,"y":159},{"x":164,"y":156},{"x":164,"y":154},{"x":164,"y":151},{"x":164,"y":148},{"x":164,"y":144},{"x":164,"y":141},{"x":164,"y":138},{"x":164,"y":136},{"x":164,"y":133},{"x":164,"y":131},{"x":164,"y":129},{"x":163,"y":125},{"x":163,"y":122},{"x":163,"y":119},{"x":162,"y":116},{"x":162,"y":114},{"x":162,"y":112},{"x":162,"y":110},{"x":161,"y":108},{"x":161,"y":106},{"x":161,"y":103},{"x":161,"y":102},{"x":161,"y":100},{"x":160,"y":98},{"x":160,"y":96},{"x":159,"y":95},{"x":159,"y":91},{"x":158,"y":88},{"x":157,"y":85},{"x":157,"y":84},{"x":156,"y":82},{"x":155,"y":81},{"x":155,"y":77},{"x":153,"y":75},{"x":153,"y":72},{"x":152,"y":70},{"x":151,"y":68},{"x":150,"y":67},{"x":149,"y":64},{"x":148,"y":62},{"x":148,"y":61},{"x":148,"y":60},{"x":147,"y":59},{"x":146,"y":58},{"x":146,"y":57},{"x":145,"y":56},{"x":144,"y":55},{"x":144,"y":54},{"x":144,"y":54},{"x":143,"y":53},{"x":141,"y":52},{"x":140,"y":52},{"x":139,"y":52},{"x":138,"y":52},{"x":137,"y":52},{"x":137,"y":52},{"x":136,"y":52},{"x":136,"y":52},{"x":131,"y":53},{"x":130,"y":54},{"x":129,"y":55},{"x":128,"y":55}]}'
un = '{"points":[{"x":48,"y":157},{"x":50,"y":156},{"x":55,"y":153},{"x":61,"y":150},{"x":69,"y":146},{"x":77,"y":137},{"x":88,"y":127},{"x":105,"y":107},{"x":111,"y":99},{"x":116,"y":93},{"x":116,"y":89},{"x":119,"y":85},{"x":121,"y":82},{"x":124,"y":80},{"x":125,"y":78},{"x":126,"y":78},{"x":126,"y":77},{"x":128,"y":76},{"x":129,"y":74},{"x":131,"y":69},{"x":131,"y":68},{"x":131,"y":69},{"x":131,"y":72},{"x":131,"y":81},{"x":131,"y":90},{"x":131,"y":106},{"x":131,"y":117},{"x":131,"y":125},{"x":131,"y":133},{"x":131,"y":144},{"x":132,"y":151},{"x":133,"y":160},{"x":135,"y":169},{"x":135,"y":177},{"x":135,"y":183},{"x":135,"y":190},{"x":135,"y":192},{"x":135,"y":193}]}'
deux = '{"points":[{"x":108,"y":127},{"x":100,"y":125},{"x":96,"y":125},{"x":93,"y":125},{"x":92,"y":125},{"x":89,"y":123},{"x":80,"y":119},{"x":74,"y":115},{"x":70,"y":113},{"x":67,"y":111},{"x":66,"y":110},{"x":64,"y":107},{"x":63,"y":104},{"x":62,"y":100},{"x":61,"y":97},{"x":61,"y":93},{"x":61,"y":89},{"x":62,"y":87},{"x":64,"y":80},{"x":66,"y":77},{"x":69,"y":74},{"x":74,"y":71},{"x":78,"y":69},{"x":81,"y":68},{"x":84,"y":67},{"x":87,"y":66},{"x":90,"y":65},{"x":96,"y":64},{"x":102,"y":64},{"x":107,"y":64},{"x":109,"y":64},{"x":112,"y":64},{"x":115,"y":65},{"x":119,"y":67},{"x":122,"y":67},{"x":125,"y":69},{"x":128,"y":71},{"x":129,"y":72},{"x":131,"y":73},{"x":132,"y":75},{"x":135,"y":77},{"x":137,"y":79},{"x":139,"y":83},{"x":140,"y":84},{"x":142,"y":89},{"x":143,"y":92},{"x":144,"y":95},{"x":145,"y":98},{"x":147,"y":102},{"x":147,"y":107},{"x":147,"y":111},{"x":147,"y":115},{"x":147,"y":118},{"x":147,"y":121},{"x":146,"y":125},{"x":145,"y":128},{"x":144,"y":132},{"x":142,"y":136},{"x":141,"y":140},{"x":139,"y":143},{"x":137,"y":145},{"x":137,"y":148},{"x":135,"y":151},{"x":134,"y":153},{"x":132,"y":155},{"x":129,"y":159},{"x":127,"y":161},{"x":123,"y":165},{"x":121,"y":168},{"x":120,"y":169},{"x":119,"y":170},{"x":117,"y":172},{"x":115,"y":173},{"x":113,"y":175},{"x":112,"y":175},{"x":111,"y":177},{"x":110,"y":177},{"x":109,"y":178},{"x":105,"y":181},{"x":104,"y":181},{"x":102,"y":183},{"x":101,"y":183},{"x":98,"y":185},{"x":94,"y":188},{"x":92,"y":189},{"x":90,"y":190},{"x":87,"y":191},{"x":84,"y":192},{"x":81,"y":192},{"x":80,"y":193},{"x":79,"y":193},{"x":78,"y":193},{"x":77,"y":193},{"x":75,"y":193},{"x":73,"y":194},{"x":72,"y":194},{"x":70,"y":194},{"x":67,"y":194},{"x":65,"y":195},{"x":64,"y":195},{"x":64,"y":195},{"x":64,"y":195},{"x":65,"y":195},{"x":68,"y":194},{"x":71,"y":194},{"x":73,"y":194},{"x":75,"y":194},{"x":77,"y":194},{"x":78,"y":194},{"x":79,"y":194},{"x":80,"y":194},{"x":84,"y":193},{"x":87,"y":193},{"x":89,"y":193},{"x":90,"y":193},{"x":90,"y":193},{"x":93,"y":193},{"x":94,"y":193},{"x":96,"y":193},{"x":101,"y":193},{"x":104,"y":193},{"x":108,"y":193},{"x":112,"y":193},{"x":115,"y":193},{"x":118,"y":193},{"x":120,"y":192},{"x":122,"y":192},{"x":126,"y":191},{"x":131,"y":191},{"x":136,"y":190},{"x":138,"y":190},{"x":146,"y":189},{"x":150,"y":188},{"x":154,"y":188},{"x":157,"y":187},{"x":160,"y":186},{"x":164,"y":186},{"x":167,"y":185},{"x":171,"y":184},{"x":174,"y":184},{"x":176,"y":184},{"x":180,"y":184},{"x":183,"y":184},{"x":186,"y":184},{"x":187,"y":184},{"x":188,"y":184},{"x":189,"y":184},{"x":192,"y":183},{"x":197,"y":183},{"x":199,"y":183},{"x":200,"y":182},{"x":201,"y":182},{"x":202,"y":182},{"x":203,"y":182},{"x":203,"y":182}]}'
trois = '{"points":[{"x":84,"y":54},{"x":88,"y":52},{"x":90,"y":51},{"x":92,"y":51},{"x":94,"y":50},{"x":95,"y":50},{"x":100,"y":49},{"x":105,"y":49},{"x":110,"y":49},{"x":112,"y":49},{"x":114,"y":50},{"x":118,"y":50},{"x":122,"y":52},{"x":125,"y":53},{"x":128,"y":54},{"x":130,"y":55},{"x":133,"y":57},{"x":136,"y":59},{"x":138,"y":61},{"x":140,"y":63},{"x":141,"y":65},{"x":143,"y":68},{"x":146,"y":71},{"x":147,"y":74},{"x":148,"y":77},{"x":148,"y":80},{"x":149,"y":82},{"x":149,"y":86},{"x":149,"y":90},{"x":149,"y":96},{"x":148,"y":99},{"x":147,"y":102},{"x":146,"y":103},{"x":145,"y":104},{"x":144,"y":105},{"x":142,"y":108},{"x":141,"y":111},{"x":139,"y":113},{"x":136,"y":116},{"x":134,"y":117},{"x":130,"y":120},{"x":127,"y":122},{"x":121,"y":124},{"x":118,"y":124},{"x":115,"y":125},{"x":113,"y":126},{"x":111,"y":126},{"x":108,"y":128},{"x":103,"y":128},{"x":98,"y":128},{"x":95,"y":128},{"x":92,"y":128},{"x":89,"y":128},{"x":86,"y":128},{"x":84,"y":128},{"x":84,"y":128},{"x":88,"y":128},{"x":93,"y":128},{"x":105,"y":128},{"x":109,"y":128},{"x":111,"y":128},{"x":113,"y":128},{"x":116,"y":129},{"x":120,"y":130},{"x":124,"y":131},{"x":125,"y":131},{"x":126,"y":131},{"x":127,"y":132},{"x":129,"y":133},{"x":132,"y":136},{"x":133,"y":137},{"x":135,"y":139},{"x":135,"y":140},{"x":137,"y":142},{"x":138,"y":144},{"x":140,"y":148},{"x":142,"y":151},{"x":144,"y":155},{"x":145,"y":158},{"x":147,"y":162},{"x":147,"y":165},{"x":148,"y":168},{"x":148,"y":170},{"x":149,"y":173},{"x":149,"y":176},{"x":149,"y":178},{"x":149,"y":180},{"x":149,"y":183},{"x":148,"y":186},{"x":147,"y":189},{"x":146,"y":191},{"x":144,"y":194},{"x":143,"y":196},{"x":142,"y":197},{"x":141,"y":198},{"x":139,"y":200},{"x":137,"y":201},{"x":135,"y":203},{"x":134,"y":204},{"x":132,"y":206},{"x":130,"y":207},{"x":128,"y":209},{"x":127,"y":209},{"x":125,"y":210},{"x":123,"y":211},{"x":121,"y":212},{"x":118,"y":213},{"x":116,"y":213},{"x":113,"y":214},{"x":110,"y":215},{"x":107,"y":216},{"x":104,"y":216},{"x":100,"y":217},{"x":97,"y":217},{"x":94,"y":217},{"x":91,"y":218},{"x":90,"y":218},{"x":87,"y":218},{"x":86,"y":218},{"x":81,"y":218},{"x":78,"y":217},{"x":75,"y":216},{"x":74,"y":215},{"x":73,"y":215},{"x":72,"y":215},{"x":71,"y":214}]}'
quatre = '{"points":[{"x":151,"y":222},{"x":151,"y":222},{"x":151,"y":220},{"x":150,"y":217},{"x":150,"y":213},{"x":149,"y":208},{"x":149,"y":202},{"x":149,"y":199},{"x":149,"y":196},{"x":149,"y":193},{"x":149,"y":191},{"x":149,"y":188},{"x":149,"y":184},{"x":149,"y":182},{"x":149,"y":179},{"x":149,"y":176},{"x":149,"y":173},{"x":149,"y":168},{"x":149,"y":165},{"x":149,"y":161},{"x":149,"y":157},{"x":149,"y":153},{"x":149,"y":149},{"x":149,"y":145},{"x":148,"y":142},{"x":147,"y":137},{"x":146,"y":134},{"x":146,"y":129},{"x":146,"y":125},{"x":145,"y":121},{"x":144,"y":116},{"x":144,"y":112},{"x":144,"y":109},{"x":143,"y":107},{"x":143,"y":104},{"x":143,"y":101},{"x":143,"y":98},{"x":143,"y":96},{"x":143,"y":93},{"x":143,"y":90},{"x":143,"y":87},{"x":143,"y":85},{"x":143,"y":81},{"x":143,"y":80},{"x":143,"y":78},{"x":143,"y":76},{"x":143,"y":74},{"x":143,"y":73},{"x":143,"y":71},{"x":143,"y":70},{"x":143,"y":70},{"x":142,"y":71},{"x":140,"y":73},{"x":138,"y":75},{"x":135,"y":79},{"x":133,"y":81},{"x":130,"y":84},{"x":127,"y":87},{"x":125,"y":90},{"x":123,"y":92},{"x":123,"y":93},{"x":122,"y":94},{"x":116,"y":99},{"x":114,"y":101},{"x":111,"y":103},{"x":110,"y":105},{"x":108,"y":106},{"x":106,"y":109},{"x":105,"y":110},{"x":102,"y":113},{"x":101,"y":115},{"x":98,"y":118},{"x":95,"y":121},{"x":92,"y":125},{"x":90,"y":127},{"x":90,"y":128},{"x":87,"y":131},{"x":86,"y":132},{"x":85,"y":134},{"x":84,"y":135},{"x":83,"y":136},{"x":82,"y":138},{"x":81,"y":139},{"x":80,"y":140},{"x":78,"y":142},{"x":77,"y":144},{"x":76,"y":147},{"x":75,"y":147},{"x":75,"y":148},{"x":74,"y":150},{"x":73,"y":151},{"x":72,"y":151},{"x":72,"y":152},{"x":71,"y":153},{"x":72,"y":153},{"x":72,"y":153},{"x":76,"y":153},{"x":79,"y":154},{"x":81,"y":154},{"x":83,"y":154},{"x":86,"y":154},{"x":90,"y":154},{"x":95,"y":154},{"x":100,"y":154},{"x":103,"y":154},{"x":104,"y":154},{"x":106,"y":154},{"x":109,"y":154},{"x":112,"y":154},{"x":114,"y":154},{"x":118,"y":154},{"x":120,"y":154},{"x":123,"y":154},{"x":127,"y":154},{"x":129,"y":154},{"x":133,"y":154},{"x":137,"y":154},{"x":139,"y":154},{"x":142,"y":154},{"x":145,"y":154},{"x":147,"y":154},{"x":150,"y":154},{"x":153,"y":154},{"x":155,"y":154},{"x":158,"y":154},{"x":160,"y":154},{"x":162,"y":154},{"x":165,"y":154},{"x":166,"y":154},{"x":167,"y":154},{"x":168,"y":154},{"x":169,"y":154},{"x":170,"y":154},{"x":171,"y":154},{"x":171,"y":154},{"x":172,"y":154},{"x":172,"y":154},{"x":173,"y":154},{"x":174,"y":154},{"x":174,"y":153},{"x":174,"y":153},{"x":175,"y":153},{"x":175,"y":153},{"x":176,"y":153},{"x":177,"y":152},{"x":177,"y":152},{"x":178,"y":152}]}'
cinq = '{"points":[{"x":182,"y":70},{"x":181,"y":69},{"x":179,"y":69},{"x":177,"y":69},{"x":174,"y":69},{"x":168,"y":71},{"x":164,"y":71},{"x":160,"y":71},{"x":158,"y":71},{"x":154,"y":71},{"x":150,"y":71},{"x":145,"y":72},{"x":141,"y":72},{"x":139,"y":72},{"x":137,"y":72},{"x":133,"y":72},{"x":128,"y":72},{"x":125,"y":72},{"x":121,"y":72},{"x":118,"y":72},{"x":115,"y":72},{"x":111,"y":73},{"x":107,"y":73},{"x":104,"y":74},{"x":102,"y":74},{"x":101,"y":74},{"x":98,"y":75},{"x":95,"y":75},{"x":94,"y":75},{"x":91,"y":75},{"x":89,"y":75},{"x":88,"y":75},{"x":86,"y":75},{"x":85,"y":75},{"x":85,"y":77},{"x":85,"y":78},{"x":85,"y":81},{"x":85,"y":85},{"x":86,"y":89},{"x":86,"y":91},{"x":86,"y":92},{"x":86,"y":93},{"x":86,"y":95},{"x":86,"y":96},{"x":86,"y":98},{"x":86,"y":99},{"x":86,"y":101},{"x":86,"y":103},{"x":86,"y":105},{"x":86,"y":107},{"x":86,"y":109},{"x":86,"y":111},{"x":86,"y":113},{"x":86,"y":115},{"x":86,"y":116},{"x":86,"y":120},{"x":86,"y":122},{"x":86,"y":123},{"x":86,"y":126},{"x":86,"y":127},{"x":86,"y":127},{"x":86,"y":128},{"x":86,"y":128},{"x":87,"y":128},{"x":90,"y":127},{"x":92,"y":127},{"x":94,"y":127},{"x":97,"y":127},{"x":99,"y":127},{"x":103,"y":127},{"x":106,"y":127},{"x":109,"y":127},{"x":113,"y":127},{"x":115,"y":127},{"x":119,"y":127},{"x":121,"y":127},{"x":124,"y":127},{"x":127,"y":127},{"x":130,"y":127},{"x":132,"y":127},{"x":135,"y":127},{"x":137,"y":127},{"x":138,"y":127},{"x":141,"y":127},{"x":143,"y":128},{"x":145,"y":128},{"x":149,"y":129},{"x":151,"y":130},{"x":153,"y":130},{"x":155,"y":131},{"x":156,"y":132},{"x":157,"y":133},{"x":158,"y":134},{"x":160,"y":135},{"x":160,"y":136},{"x":162,"y":138},{"x":164,"y":139},{"x":164,"y":140},{"x":166,"y":144},{"x":167,"y":145},{"x":169,"y":148},{"x":170,"y":149},{"x":171,"y":151},{"x":171,"y":154},{"x":172,"y":156},{"x":172,"y":157},{"x":173,"y":160},{"x":173,"y":161},{"x":173,"y":163},{"x":174,"y":168},{"x":174,"y":170},{"x":174,"y":173},{"x":174,"y":175},{"x":174,"y":176},{"x":174,"y":178},{"x":173,"y":180},{"x":173,"y":181},{"x":173,"y":184},{"x":172,"y":186},{"x":172,"y":187},{"x":172,"y":188},{"x":171,"y":192},{"x":171,"y":194},{"x":170,"y":195},{"x":169,"y":195},{"x":168,"y":196},{"x":167,"y":197},{"x":167,"y":198},{"x":165,"y":199},{"x":164,"y":199},{"x":162,"y":200},{"x":160,"y":202},{"x":156,"y":203},{"x":154,"y":203},{"x":152,"y":204},{"x":151,"y":205},{"x":149,"y":206},{"x":147,"y":206},{"x":146,"y":207},{"x":145,"y":207},{"x":143,"y":207},{"x":142,"y":208},{"x":140,"y":208},{"x":137,"y":209},{"x":135,"y":209},{"x":132,"y":209},{"x":128,"y":209},{"x":123,"y":209},{"x":120,"y":209},{"x":118,"y":209},{"x":116,"y":209},{"x":114,"y":209},{"x":110,"y":209},{"x":109,"y":209},{"x":106,"y":209},{"x":105,"y":209},{"x":104,"y":209},{"x":101,"y":209},{"x":99,"y":209},{"x":97,"y":209},{"x":97,"y":209},{"x":95,"y":209},{"x":94,"y":209},{"x":92,"y":209},{"x":91,"y":209},{"x":90,"y":209},{"x":87,"y":209},{"x":86,"y":209}]}'
six = '{"points":[{"x":155,"y":58},{"x":155,"y":58},{"x":152,"y":58},{"x":147,"y":60},{"x":144,"y":61},{"x":142,"y":61},{"x":140,"y":63},{"x":137,"y":64},{"x":133,"y":66},{"x":129,"y":68},{"x":126,"y":70},{"x":124,"y":72},{"x":121,"y":73},{"x":119,"y":74},{"x":115,"y":77},{"x":113,"y":80},{"x":109,"y":83},{"x":107,"y":86},{"x":105,"y":88},{"x":104,"y":90},{"x":104,"y":92},{"x":102,"y":94},{"x":101,"y":97},{"x":99,"y":100},{"x":98,"y":102},{"x":97,"y":105},{"x":95,"y":110},{"x":94,"y":114},{"x":93,"y":116},{"x":93,"y":119},{"x":92,"y":121},{"x":91,"y":124},{"x":90,"y":127},{"x":89,"y":130},{"x":88,"y":132},{"x":88,"y":135},{"x":87,"y":137},{"x":85,"y":142},{"x":85,"y":145},{"x":83,"y":149},{"x":83,"y":153},{"x":83,"y":156},{"x":83,"y":158},{"x":82,"y":161},{"x":82,"y":165},{"x":81,"y":168},{"x":81,"y":171},{"x":81,"y":174},{"x":81,"y":176},{"x":81,"y":180},{"x":82,"y":182},{"x":83,"y":183},{"x":84,"y":186},{"x":84,"y":187},{"x":85,"y":188},{"x":86,"y":189},{"x":87,"y":191},{"x":89,"y":193},{"x":91,"y":194},{"x":92,"y":195},{"x":93,"y":196},{"x":95,"y":196},{"x":97,"y":197},{"x":99,"y":197},{"x":100,"y":197},{"x":102,"y":198},{"x":104,"y":198},{"x":105,"y":198},{"x":106,"y":198},{"x":110,"y":198},{"x":114,"y":198},{"x":116,"y":198},{"x":119,"y":198},{"x":120,"y":198},{"x":123,"y":198},{"x":125,"y":198},{"x":128,"y":198},{"x":129,"y":198},{"x":130,"y":198},{"x":130,"y":197},{"x":132,"y":196},{"x":134,"y":195},{"x":135,"y":195},{"x":136,"y":194},{"x":138,"y":192},{"x":140,"y":190},{"x":141,"y":189},{"x":142,"y":187},{"x":143,"y":185},{"x":145,"y":183},{"x":146,"y":180},{"x":147,"y":179},{"x":147,"y":178},{"x":148,"y":174},{"x":148,"y":173},{"x":148,"y":171},{"x":148,"y":168},{"x":148,"y":166},{"x":148,"y":163},{"x":148,"y":161},{"x":148,"y":159},{"x":148,"y":158},{"x":147,"y":157},{"x":147,"y":155},{"x":146,"y":154},{"x":144,"y":151},{"x":143,"y":150},{"x":142,"y":148},{"x":141,"y":147},{"x":139,"y":145},{"x":138,"y":144},{"x":136,"y":141},{"x":135,"y":140},{"x":134,"y":139},{"x":132,"y":137},{"x":132,"y":137},{"x":128,"y":136},{"x":127,"y":136},{"x":126,"y":135},{"x":123,"y":135},{"x":121,"y":134},{"x":120,"y":134},{"x":118,"y":134},{"x":115,"y":134},{"x":113,"y":134},{"x":112,"y":134},{"x":111,"y":134},{"x":109,"y":135},{"x":106,"y":135},{"x":105,"y":136},{"x":102,"y":136},{"x":101,"y":136},{"x":100,"y":137},{"x":99,"y":137},{"x":98,"y":137},{"x":97,"y":137},{"x":97,"y":137},{"x":96,"y":138},{"x":95,"y":138},{"x":95,"y":139},{"x":93,"y":139},{"x":92,"y":139},{"x":92,"y":140},{"x":91,"y":141},{"x":91,"y":142},{"x":91,"y":143},{"x":90,"y":143},{"x":90,"y":143},{"x":90,"y":143},{"x":89,"y":143},{"x":89,"y":144},{"x":88,"y":144},{"x":88,"y":145},{"x":87,"y":145},{"x":86,"y":146},{"x":85,"y":147},{"x":85,"y":147},{"x":85,"y":147},{"x":84,"y":147}]}'
sept = '{"points":[{"x":71,"y":60},{"x":71,"y":60},{"x":74,"y":60},{"x":78,"y":60},{"x":82,"y":60},{"x":87,"y":60},{"x":91,"y":59},{"x":96,"y":59},{"x":103,"y":59},{"x":106,"y":59},{"x":108,"y":59},{"x":110,"y":59},{"x":114,"y":59},{"x":119,"y":59},{"x":124,"y":59},{"x":127,"y":59},{"x":130,"y":59},{"x":131,"y":59},{"x":134,"y":60},{"x":137,"y":60},{"x":141,"y":60},{"x":144,"y":60},{"x":146,"y":60},{"x":147,"y":60},{"x":149,"y":60},{"x":152,"y":60},{"x":153,"y":60},{"x":156,"y":59},{"x":158,"y":59},{"x":160,"y":59},{"x":162,"y":58},{"x":164,"y":58},{"x":164,"y":57},{"x":166,"y":57},{"x":167,"y":57},{"x":167,"y":57},{"x":166,"y":60},{"x":166,"y":64},{"x":166,"y":69},{"x":166,"y":74},{"x":166,"y":77},{"x":166,"y":81},{"x":166,"y":83},{"x":166,"y":86},{"x":165,"y":87},{"x":165,"y":91},{"x":164,"y":94},{"x":164,"y":96},{"x":163,"y":100},{"x":163,"y":103},{"x":162,"y":107},{"x":161,"y":109},{"x":161,"y":113},{"x":160,"y":115},{"x":160,"y":117},{"x":159,"y":120},{"x":159,"y":122},{"x":157,"y":128},{"x":157,"y":130},{"x":156,"y":132},{"x":155,"y":135},{"x":155,"y":137},{"x":155,"y":140},{"x":154,"y":143},{"x":154,"y":146},{"x":153,"y":149},{"x":153,"y":152},{"x":152,"y":153},{"x":152,"y":155},{"x":151,"y":158},{"x":151,"y":161},{"x":151,"y":164},{"x":151,"y":167},{"x":151,"y":170},{"x":150,"y":173},{"x":149,"y":175},{"x":149,"y":178},{"x":149,"y":180},{"x":148,"y":181},{"x":148,"y":184},{"x":148,"y":186},{"x":147,"y":189},{"x":147,"y":191},{"x":146,"y":193},{"x":146,"y":196},{"x":146,"y":199},{"x":145,"y":201},{"x":145,"y":203},{"x":145,"y":207},{"x":144,"y":209},{"x":144,"y":211},{"x":144,"y":214},{"x":144,"y":215},{"x":143,"y":217},{"x":143,"y":218},{"x":143,"y":219},{"x":143,"y":222},{"x":142,"y":223},{"x":142,"y":225},{"x":142,"y":226},{"x":142,"y":227},{"x":142,"y":228},{"x":142,"y":229},{"x":142,"y":230},{"x":141,"y":231},{"x":141,"y":232},{"x":141,"y":232},{"x":141,"y":234},{"x":140,"y":235},{"x":140,"y":236},{"x":140,"y":237},{"x":140,"y":238},{"x":117,"y":134},{"x":118,"y":134},{"x":121,"y":134},{"x":124,"y":134},{"x":126,"y":134},{"x":129,"y":134},{"x":132,"y":134},{"x":139,"y":134},{"x":143,"y":135},{"x":147,"y":135},{"x":150,"y":136},{"x":154,"y":137},{"x":157,"y":137},{"x":161,"y":137},{"x":164,"y":137},{"x":167,"y":137},{"x":170,"y":137},{"x":171,"y":137},{"x":172,"y":137},{"x":173,"y":137},{"x":175,"y":137},{"x":177,"y":137},{"x":180,"y":137},{"x":182,"y":137},{"x":182,"y":137},{"x":183,"y":137},{"x":184,"y":137}]}'
huit = '{"points":[{"x":151,"y":50},{"x":150,"y":49},{"x":149,"y":49},{"x":146,"y":47},{"x":141,"y":45},{"x":136,"y":44},{"x":133,"y":43},{"x":129,"y":42},{"x":127,"y":42},{"x":124,"y":41},{"x":123,"y":41},{"x":120,"y":41},{"x":120,"y":41},{"x":116,"y":42},{"x":113,"y":42},{"x":112,"y":43},{"x":111,"y":43},{"x":109,"y":45},{"x":107,"y":46},{"x":103,"y":49},{"x":102,"y":50},{"x":99,"y":54},{"x":97,"y":58},{"x":95,"y":62},{"x":93,"y":66},{"x":91,"y":69},{"x":90,"y":71},{"x":90,"y":74},{"x":88,"y":77},{"x":88,"y":80},{"x":86,"y":85},{"x":86,"y":87},{"x":86,"y":90},{"x":86,"y":92},{"x":86,"y":94},{"x":86,"y":97},{"x":87,"y":100},{"x":88,"y":101},{"x":89,"y":102},{"x":90,"y":104},{"x":93,"y":107},{"x":98,"y":111},{"x":101,"y":113},{"x":103,"y":114},{"x":105,"y":115},{"x":108,"y":116},{"x":112,"y":117},{"x":115,"y":119},{"x":118,"y":121},{"x":120,"y":122},{"x":122,"y":124},{"x":125,"y":125},{"x":128,"y":127},{"x":131,"y":128},{"x":135,"y":130},{"x":136,"y":131},{"x":138,"y":131},{"x":139,"y":132},{"x":141,"y":134},{"x":142,"y":135},{"x":146,"y":138},{"x":148,"y":140},{"x":149,"y":142},{"x":150,"y":143},{"x":151,"y":144},{"x":152,"y":145},{"x":154,"y":147},{"x":156,"y":149},{"x":157,"y":150},{"x":159,"y":152},{"x":160,"y":154},{"x":162,"y":156},{"x":163,"y":159},{"x":165,"y":161},{"x":166,"y":163},{"x":168,"y":166},{"x":169,"y":168},{"x":170,"y":170},{"x":171,"y":173},{"x":172,"y":175},{"x":173,"y":177},{"x":174,"y":180},{"x":174,"y":182},{"x":174,"y":185},{"x":174,"y":189},{"x":174,"y":191},{"x":173,"y":193},{"x":173,"y":194},{"x":173,"y":195},{"x":171,"y":200},{"x":171,"y":202},{"x":169,"y":204},{"x":169,"y":206},{"x":167,"y":209},{"x":166,"y":210},{"x":164,"y":213},{"x":162,"y":215},{"x":161,"y":216},{"x":159,"y":218},{"x":158,"y":219},{"x":157,"y":220},{"x":155,"y":221},{"x":154,"y":222},{"x":151,"y":224},{"x":149,"y":225},{"x":148,"y":225},{"x":146,"y":225},{"x":144,"y":226},{"x":143,"y":227},{"x":139,"y":228},{"x":136,"y":228},{"x":134,"y":228},{"x":131,"y":228},{"x":128,"y":228},{"x":126,"y":228},{"x":119,"y":228},{"x":116,"y":228},{"x":114,"y":228},{"x":113,"y":228},{"x":111,"y":227},{"x":106,"y":226},{"x":102,"y":226},{"x":100,"y":225},{"x":99,"y":225},{"x":98,"y":224},{"x":97,"y":224},{"x":95,"y":223},{"x":92,"y":222},{"x":90,"y":221},{"x":88,"y":221},{"x":87,"y":220},{"x":83,"y":219},{"x":81,"y":217},{"x":80,"y":216},{"x":78,"y":215},{"x":77,"y":215},{"x":76,"y":215},{"x":73,"y":213},{"x":71,"y":211},{"x":69,"y":210},{"x":67,"y":210},{"x":67,"y":209},{"x":66,"y":208},{"x":65,"y":206},{"x":64,"y":203},{"x":63,"y":201},{"x":62,"y":200},{"x":62,"y":198},{"x":61,"y":196},{"x":60,"y":195},{"x":59,"y":192},{"x":59,"y":190},{"x":59,"y":189},{"x":59,"y":188},{"x":59,"y":187},{"x":60,"y":184},{"x":61,"y":181},{"x":62,"y":178},{"x":63,"y":176},{"x":64,"y":175},{"x":65,"y":173},{"x":66,"y":171},{"x":68,"y":169},{"x":70,"y":166},{"x":72,"y":164},{"x":74,"y":161},{"x":76,"y":159},{"x":79,"y":156},{"x":81,"y":154},{"x":83,"y":152},{"x":84,"y":151},{"x":86,"y":150},{"x":88,"y":149},{"x":90,"y":147},{"x":93,"y":144},{"x":96,"y":142},{"x":98,"y":140},{"x":100,"y":139},{"x":105,"y":136},{"x":107,"y":135},{"x":110,"y":134},{"x":112,"y":132},{"x":114,"y":132},{"x":114,"y":131},{"x":117,"y":130},{"x":118,"y":128},{"x":121,"y":127},{"x":124,"y":125},{"x":125,"y":125},{"x":126,"y":125},{"x":127,"y":125},{"x":130,"y":123},{"x":132,"y":122},{"x":135,"y":119},{"x":136,"y":118},{"x":137,"y":117},{"x":137,"y":116},{"x":138,"y":115},{"x":140,"y":113},{"x":141,"y":111},{"x":143,"y":109},{"x":144,"y":108},{"x":145,"y":106},{"x":146,"y":104},{"x":147,"y":102},{"x":149,"y":100},{"x":150,"y":98},{"x":151,"y":96},{"x":152,"y":94},{"x":153,"y":91},{"x":154,"y":89},{"x":156,"y":87},{"x":156,"y":84},{"x":157,"y":83},{"x":158,"y":80},{"x":158,"y":78},{"x":159,"y":77},{"x":159,"y":76},{"x":160,"y":75},{"x":160,"y":72},{"x":161,"y":67},{"x":161,"y":66},{"x":161,"y":63},{"x":161,"y":61},{"x":161,"y":59},{"x":161,"y":58},{"x":161,"y":58},{"x":160,"y":56},{"x":160,"y":55},{"x":159,"y":54},{"x":159,"y":53},{"x":159,"y":52},{"x":158,"y":51},{"x":157,"y":51},{"x":157,"y":50},{"x":156,"y":49},{"x":155,"y":48},{"x":154,"y":47},{"x":154,"y":47},{"x":152,"y":47},{"x":151,"y":47},{"x":150,"y":47},{"x":148,"y":47},{"x":148,"y":47},{"x":147,"y":47},{"x":145,"y":47},{"x":144,"y":47},{"x":144,"y":47},{"x":143,"y":47},{"x":142,"y":47}]}'
neuf = '{"points":[{"x":155,"y":101},{"x":155,"y":101},{"x":153,"y":103},{"x":152,"y":104},{"x":152,"y":105},{"x":151,"y":106},{"x":151,"y":107},{"x":150,"y":109},{"x":149,"y":110},{"x":148,"y":111},{"x":147,"y":112},{"x":146,"y":113},{"x":145,"y":114},{"x":143,"y":116},{"x":142,"y":117},{"x":140,"y":118},{"x":138,"y":120},{"x":137,"y":121},{"x":136,"y":122},{"x":134,"y":123},{"x":132,"y":123},{"x":129,"y":125},{"x":127,"y":125},{"x":126,"y":125},{"x":124,"y":125},{"x":121,"y":126},{"x":117,"y":126},{"x":115,"y":126},{"x":112,"y":126},{"x":110,"y":125},{"x":106,"y":124},{"x":102,"y":124},{"x":99,"y":123},{"x":94,"y":122},{"x":92,"y":122},{"x":90,"y":121},{"x":88,"y":120},{"x":87,"y":120},{"x":86,"y":120},{"x":84,"y":119},{"x":83,"y":119},{"x":81,"y":118},{"x":77,"y":117},{"x":74,"y":115},{"x":72,"y":114},{"x":69,"y":112},{"x":67,"y":110},{"x":66,"y":110},{"x":65,"y":110},{"x":65,"y":110},{"x":64,"y":109},{"x":63,"y":108},{"x":63,"y":106},{"x":62,"y":105},{"x":62,"y":104},{"x":62,"y":102},{"x":62,"y":100},{"x":62,"y":97},{"x":62,"y":96},{"x":62,"y":93},{"x":63,"y":91},{"x":64,"y":88},{"x":65,"y":87},{"x":66,"y":85},{"x":68,"y":83},{"x":69,"y":82},{"x":71,"y":80},{"x":72,"y":79},{"x":76,"y":76},{"x":76,"y":75},{"x":79,"y":73},{"x":81,"y":72},{"x":83,"y":70},{"x":85,"y":69},{"x":87,"y":67},{"x":89,"y":65},{"x":90,"y":64},{"x":91,"y":64},{"x":94,"y":62},{"x":98,"y":61},{"x":101,"y":61},{"x":102,"y":60},{"x":104,"y":60},{"x":105,"y":59},{"x":108,"y":59},{"x":110,"y":58},{"x":112,"y":58},{"x":113,"y":58},{"x":114,"y":58},{"x":115,"y":58},{"x":116,"y":57},{"x":118,"y":57},{"x":119,"y":57},{"x":120,"y":57},{"x":122,"y":57},{"x":123,"y":57},{"x":123,"y":57},{"x":125,"y":57},{"x":128,"y":57},{"x":131,"y":59},{"x":133,"y":59},{"x":134,"y":59},{"x":136,"y":60},{"x":138,"y":61},{"x":140,"y":62},{"x":141,"y":63},{"x":142,"y":64},{"x":145,"y":65},{"x":146,"y":66},{"x":148,"y":67},{"x":148,"y":68},{"x":149,"y":69},{"x":150,"y":69},{"x":151,"y":71},{"x":153,"y":73},{"x":153,"y":74},{"x":154,"y":75},{"x":155,"y":76},{"x":155,"y":77},{"x":155,"y":78},{"x":155,"y":80},{"x":156,"y":81},{"x":156,"y":82},{"x":156,"y":83},{"x":156,"y":84},{"x":157,"y":86},{"x":157,"y":88},{"x":157,"y":90},{"x":157,"y":93},{"x":157,"y":94},{"x":157,"y":95},{"x":157,"y":98},{"x":157,"y":99},{"x":157,"y":100},{"x":157,"y":103},{"x":157,"y":103},{"x":157,"y":104},{"x":157,"y":105},{"x":157,"y":107},{"x":157,"y":109},{"x":157,"y":110},{"x":157,"y":111},{"x":157,"y":113},{"x":157,"y":114},{"x":157,"y":115},{"x":157,"y":118},{"x":157,"y":121},{"x":157,"y":122},{"x":157,"y":123},{"x":157,"y":124},{"x":157,"y":127},{"x":157,"y":128},{"x":157,"y":130},{"x":157,"y":131},{"x":157,"y":133},{"x":157,"y":134},{"x":157,"y":135},{"x":157,"y":136},{"x":157,"y":138},{"x":157,"y":139},{"x":156,"y":143},{"x":156,"y":144},{"x":155,"y":146},{"x":155,"y":147},{"x":155,"y":148},{"x":155,"y":148},{"x":155,"y":149},{"x":155,"y":150},{"x":154,"y":152},{"x":154,"y":153},{"x":153,"y":156},{"x":153,"y":157},{"x":153,"y":158},{"x":152,"y":160},{"x":152,"y":161},{"x":152,"y":163},{"x":152,"y":164},{"x":152,"y":165},{"x":151,"y":167},{"x":151,"y":168},{"x":150,"y":171},{"x":150,"y":173},{"x":150,"y":176},{"x":149,"y":177},{"x":149,"y":179},{"x":148,"y":182},{"x":148,"y":184},{"x":148,"y":185},{"x":148,"y":187},{"x":147,"y":189},{"x":147,"y":190},{"x":146,"y":191},{"x":146,"y":193},{"x":146,"y":195},{"x":146,"y":197},{"x":145,"y":198},{"x":145,"y":200},{"x":144,"y":201},{"x":143,"y":204},{"x":142,"y":205},{"x":141,"y":206},{"x":141,"y":207},{"x":141,"y":208},{"x":140,"y":211},{"x":139,"y":213},{"x":138,"y":214},{"x":138,"y":214},{"x":136,"y":216},{"x":134,"y":217},{"x":134,"y":218},{"x":132,"y":219},{"x":131,"y":220},{"x":130,"y":220},{"x":129,"y":220},{"x":128,"y":220},{"x":128,"y":220},{"x":127,"y":220},{"x":126,"y":220},{"x":125,"y":220},{"x":123,"y":220},{"x":122,"y":220},{"x":120,"y":220},{"x":119,"y":220},{"x":116,"y":220},{"x":114,"y":220},{"x":110,"y":220},{"x":106,"y":220},{"x":103,"y":220},{"x":101,"y":220},{"x":94,"y":220},{"x":93,"y":220},{"x":92,"y":220},{"x":90,"y":220},{"x":88,"y":220},{"x":84,"y":220},{"x":82,"y":220},{"x":78,"y":220},{"x":75,"y":220},{"x":73,"y":220},{"x":72,"y":220},{"x":71,"y":219},{"x":71,"y":218},{"x":69,"y":217},{"x":69,"y":216},{"x":69,"y":214},{"x":69,"y":213},{"x":68,"y":213},{"x":68,"y":212},{"x":68,"y":211},{"x":67,"y":210},{"x":66,"y":209},{"x":66,"y":208},{"x":66,"y":208},{"x":66,"y":207},{"x":65,"y":206},{"x":64,"y":205}]}'

# Process our image
def process_image(img):
    # Load Image
    if type(img) == str:
        img = Image.open(image_path)

    img = img.convert('1')
    # Get the dimensions of the image
    width, height = img.size

    # Resize by keeping the aspect ratio, but changing the dimension
    # so the shortest size is 255px
    img = img.resize((28, int(28 * (height / width))) if width < height else (int(28 * (width / height)), 28))

    # Get the dimensions of the new image size
    width, height = img.size

    # Set the coordinates to do a center crop of 28 x 28
    left = (width - 28) / 2
    top = (height - 28) / 2
    right = (width + 28) / 2
    bottom = (height + 28) / 2
    img = img.crop((left, top, right, bottom))

    # Turn image into numpy array
    img = np.array(img)

    # Make the color channel dimension first instead of last
    img = img.transpose((0, 1))

    # Make all values between 0 and 1
    img = img / 28
    img = (img-0.1307)/0.3081
    # Normalize based on the preset mean and standard deviation
    #img[0] = (img[0] - 0.1307) / 0.3081
    #img[1] = (img[1] - 0.1307) / 0.3081
    #img[2] = (img[2] - 0.1307) / 0.3081
    # Add a fourth dimension to the beginning to indicate batch size
    # img = img[np.newaxis, :]
    #new_img = img[np.newaxis, np.newaxis, :]
    # Turn into a torch tensor
    image = Image.fromarray(img, '1')
    #image = torch.from_numpy(img)
    ##image = image.unsqueeze(0).unsqueeze(0)
    #image = image.float()

    return image


def stringtotensor(input):
    position = input[13:-2].replace('{', '').replace('}', '').replace('"', '')\
        .replace(':', '').replace(',', '').replace('x', ' ').replace('y', ' ').split(' ')[1:]

    position = [int(i) for i in position]
    position = np.array(position).reshape((int(len(position)/2), 2))

    output = np.zeros((280, 280))
    for element in position:
        output[element[0]][element[1]] = 1
    #print(output.shape)
    #plt.gray()
    #plt.imshow(output)
    #plt.show()
    img = Image.fromarray(output, 'RGB')
    process_image(img).show()
    #output = torch.from_numpy(output)
    return img

def stringtoimage(input):
    position = input[14:-2].replace('{', '').replace('}', '').replace('"', '') \
                   .replace(':', '').replace(',', '').replace('x', ' ').replace('y', ' ').split(' ')
    position = [int(i) for i in position]
    position = np.array(position).reshape((int(len(position) / 2), 2))
    w, h = 280, 280
    output = np.zeros((h, w, 3), dtype=np.uint8)
    for element in position:
        output[element[0]][element[1]] = [255, 255, 255]
    img = Image.fromarray(output, 'RGB').convert('1')
    #img.show()
    # output = torch.from_numpy(output)
    return img


if __name__ == '__main__':
    # drawingJSON = '{"points":[{"x":100,"y":91},{"x":98,"y":90},{"x":96,"y":90},{"x":95,"y":90},{"x":91,"y":90},{"x":89,"y":90},{"x":85,"y":88},{"x":82,"y":87},{"x":80,"y":86},{"x":77,"y":84},{"x":76,"y":83},{"x":75,"y":81},{"x":74,"y":79},{"x":74,"y":77},{"x":74,"y":73},{"x":75,"y":71},{"x":76,"y":70},{"x":77,"y":68},{"x":79,"y":67},{"x":81,"y":65},{"x":85,"y":63},{"x":89,"y":61},{"x":93,"y":60},{"x":96,"y":60},{"x":100,"y":59},{"x":102,"y":58},{"x":106,"y":58},{"x":109,"y":58},{"x":113,"y":58},{"x":121,"y":60},{"x":124,"y":62},{"x":126,"y":64},{"x":127,"y":66},{"x":128,"y":70},{"x":129,"y":74},{"x":130,"y":80},{"x":130,"y":85},{"x":129,"y":91},{"x":128,"y":96},{"x":125,"y":102},{"x":123,"y":113},{"x":120,"y":119},{"x":118,"y":124},{"x":116,"y":128},{"x":114,"y":131},{"x":112,"y":134},{"x":110,"y":137},{"x":107,"y":141},{"x":104,"y":146},{"x":102,"y":148},{"x":100,"y":149},{"x":99,"y":150},{"x":98,"y":150},{"x":96,"y":150},{"x":95,"y":150},{"x":92,"y":150},{"x":91,"y":150},{"x":90,"y":150},{"x":87,"y":149},{"x":84,"y":147},{"x":80,"y":145},{"x":79,"y":144},{"x":76,"y":144},{"x":74,"y":143},{"x":72,"y":141},{"x":72,"y":140},{"x":71,"y":139},{"x":71,"y":138},{"x":71,"y":136},{"x":73,"y":135},{"x":74,"y":134},{"x":77,"y":134},{"x":80,"y":133},{"x":84,"y":133},{"x":88,"y":133},{"x":93,"y":135},{"x":96,"y":136},{"x":99,"y":138},{"x":101,"y":139},{"x":103,"y":140},{"x":105,"y":141},{"x":106,"y":142},{"x":108,"y":144},{"x":109,"y":144},{"x":111,"y":145},{"x":113,"y":147},{"x":118,"y":149},{"x":121,"y":150},{"x":126,"y":151},{"x":130,"y":152},{"x":135,"y":152},{"x":136,"y":152},{"x":140,"y":152},{"x":147,"y":152},{"x":152,"y":152},{"x":158,"y":152},{"x":163,"y":152},{"x":167,"y":152},{"x":169,"y":152},{"x":170,"y":152},{"x":171,"y":152},{"x":171,"y":151}]}'
    # pre_image = stringtotensor(drawingJSON)
    # print(pre_image)
    # image = process_image(pre_image).size()
    # print(image)

    print(stringtoimage(cinq))
    #w, h = 512, 512
    #data = np.zeros((h, w, 3), dtype=np.uint8)
    #data[0:256, 0:256] = [255, 0, 0]  # red patch in upper left
    #img = Image.fromarray(data, 'RGB').convert('1')
    #img.show()